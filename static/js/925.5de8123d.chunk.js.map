{"version":3,"file":"static/js/925.5de8123d.chunk.js","mappings":"uLAaMA,EAAiB,WACnB,IAAMC,GAAwBC,EAAAA,EAAAA,MAU9B,OARAC,EAAAA,EAAAA,YAAU,WAEN,OADAF,GAASG,EAAAA,EAAAA,OACF,WACHH,GAASI,EAAAA,EAAAA,MACb,CACJ,GAAG,KAGIC,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACHC,EAAAA,EAAAA,KAACC,EAAQ,KACTD,EAAAA,EAAAA,KAACE,EAAc,MAEvB,EAEMD,EAAyB,WAC3B,IAAME,GAAWC,EAAAA,EAAAA,KAAY,SAACC,GAAmB,OAAKA,EAAMC,KAAKH,QAAQ,IAEzE,OAAOH,EAAAA,EAAAA,KAAA,OAAKO,MAAO,CAACC,OAAQ,QAASC,UAAW,QAAQV,SACnDI,EAASO,KAAI,SAACC,EAAGC,GAAK,OAAKZ,EAAAA,EAAAA,KAACa,EAAO,CAAaC,QAASH,GAAhBC,EAAoB,KAEtE,EAEMC,EAAkD,SAAHE,GAAmB,IAAdD,EAAOC,EAAPD,QACtD,OAAOhB,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACHD,EAAAA,EAAAA,MAAA,OAAKS,MAAO,CAACS,QAAS,OAAQC,WAAY,UAAUlB,SAAA,EAChDC,EAAAA,EAAAA,KAAA,OAAKkB,IAAsB,MAAjBJ,EAAQK,MAAgBL,EAAQK,MAAQC,EAC7Cb,MAAO,CAACc,aAAc,MAAOC,MAAO,WACzCxB,EAAAA,EAAAA,MAAA,OAAKS,MAAO,CAACgB,OAAQ,cAAcxB,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,KAAAD,SAAIe,EAAQU,YACZxB,EAAAA,EAAAA,KAAA,UACAF,EAAAA,EAAAA,MAAA,KAAAC,SAAA,CAAG,OAAKe,EAAQW,iBAGxBzB,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,MAAAD,SAAKe,EAAQA,WACbd,EAAAA,EAAAA,KAAA,WAER,EAEME,EAA+B,WACjC,IAAAwB,GAA8BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAnCZ,EAAOc,EAAA,GAAEE,EAAUF,EAAA,GAC1BG,GAAsCJ,EAAAA,EAAAA,UAA8B,WAAUK,GAAAH,EAAAA,EAAAA,GAAAE,EAAA,GACxEtC,GADYuC,EAAA,GAAgBA,EAAA,IACJtC,EAAAA,EAAAA,OAU9B,OAAOI,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACHC,EAAAA,EAAAA,KAAA,OAAAD,UACIC,EAAAA,EAAAA,KAAA,YAAUiC,SAAU,SAACC,GAAC,OAAKJ,EAAWI,EAAEC,cAAcC,MAAM,EAAEA,MAAOtB,OAEzEd,EAAAA,EAAAA,KAAA,OAAAD,UACIC,EAAAA,EAAAA,KAAA,UAAQqC,UAAU,EAAOC,QAbN,WAClBxB,EAAQyB,SAGb9C,GAAS+C,EAAAA,EAAAA,IAAY1B,IACrBgB,EAAW,IACf,EAO6D/B,SAAC,aAGlE,EAEA,UAvE2B,WACvB,OAAOC,EAAAA,EAAAA,KAAA,OAAAD,UACHC,EAAAA,EAAAA,KAACR,EAAI,KAEb,C","sources":["pages/Chat/ChatPage.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport userPhoto from '../../assets/images/noimg.jpeg'\r\nimport {ChatMessageType} from '../../api/chat-api'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {sendMessage, startMessagesListening, stopMessagesListening} from '../../redux/chat-reducer'\r\nimport {AppDispatch, AppStateType} from '../../redux/redux-store'\r\n\r\nconst ChatPage: React.FC = () => {\r\n    return <div>\r\n        <Chat/>\r\n    </div>\r\n}\r\n\r\nconst Chat: React.FC = () => {\r\n    const dispatch: AppDispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(startMessagesListening())\r\n        return () => {\r\n            dispatch(stopMessagesListening())\r\n        }\r\n    }, [])\r\n\r\n\r\n    return <div>\r\n        <Messages/>\r\n        <AddMessageForm/>\r\n    </div>\r\n}\r\n\r\nconst Messages: React.FC<{}> = () => {\r\n    const messages = useSelector((state: AppStateType) => state.chat.messages)\r\n\r\n    return <div style={{height: '600px', overflowY: 'auto'}}>\r\n        {messages.map((m, index) => <Message key={index} message={m}/>)}\r\n    </div>\r\n}\r\n\r\nconst Message: React.FC<{ message: ChatMessageType }> = ({message}) => {\r\n    return <div>\r\n        <div style={{display: 'flex', alignItems: 'center'}}>\r\n            <img src={message.photo != null ? message.photo : userPhoto}\r\n                 style={{borderRadius: '50%', width: '50px',}}/>\r\n            <div style={{margin: ' 8px  8px '}}>\r\n                <b>{message.userName}</b>\r\n                <br/>\r\n                <a>ID: {message.userId}</a>\r\n            </div>\r\n        </div>\r\n        <br/>\r\n        <h3>{message.message}</h3>\r\n        <hr/>\r\n    </div>\r\n}\r\n\r\nconst AddMessageForm: React.FC<{}> = () => {\r\n    const [message, setMessage] = useState('')\r\n    const [readyStatus, setReadyStatus] = useState<'pending' | 'ready'>('pending')\r\n    const dispatch: AppDispatch = useDispatch()\r\n\r\n    const sendMessageHandler = () => {\r\n        if (!message.trim()) {\r\n            return\r\n        }\r\n        dispatch(sendMessage(message))\r\n        setMessage('')\r\n    }\r\n\r\n    return <div>\r\n        <div>\r\n            <textarea onChange={(e) => setMessage(e.currentTarget.value)} value={message}></textarea>\r\n        </div>\r\n        <div>\r\n            <button disabled={false} onClick={sendMessageHandler}>Send</button>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default ChatPage"],"names":["Chat","dispatch","useDispatch","useEffect","startMessagesListening","stopMessagesListening","_jsxs","children","_jsx","Messages","AddMessageForm","messages","useSelector","state","chat","style","height","overflowY","map","m","index","Message","message","_ref","display","alignItems","src","photo","userPhoto","borderRadius","width","margin","userName","userId","_useState","useState","_useState2","_slicedToArray","setMessage","_useState3","_useState4","onChange","e","currentTarget","value","disabled","onClick","trim","sendMessage"],"sourceRoot":""}